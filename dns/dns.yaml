---
publisher_namespace: EnginesSystem
type_path: dns
accepts:
- ManagedEngine
- ManagedService
title: dns server
major: 0
minor: 0
release_level: alpha
patch: 0
service_container: dns
service_handle_field: hostname
immutable: true
attach_post_build: true
consumer_params:
  hostname:
    name: hostname
    mandatory: true
    immutable: true
    input:
      type: string
  ip:
    name: ip
    mandatory: true
    immutable: true
    input:
      type: string
      hint: 'ip address '
  ip_type:
    name: ip_type
    input:
      label: Internal or External for domain
      type: select
      collection:
        items:
          lan: Lan
          wan: External
        include_blank: true
configurators:
  'dns_forwarders ':
    name: 'dns_forwarders '
    label: DNS forwarders
    variables:
    - name: dns_server
      mandatory: true
      input:
        label: DNS Server
        type: string
        hint: 'IP address '
        placeholder: x.x.x.x
    - name: dns_server
      input:
        label: 2nd DNS server
        type: string
        hint: IP address x.x.x.x
        placeholder: x.x.x.x
service_actionators:
  list_records:
    name: list_records
    label: List Records
    return_type: json
  list_domains:
    name: list_domains
    label: List Domains
    return_type: json
  refresh_hosted_domains:
    name: refresh_hosted_domains
    label: Refresh hosted domains
    description: Used by system when external or lan ip changes
    return_type: none
