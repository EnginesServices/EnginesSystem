---
publisher_namespace: EnginesSystem
type_path: database/sql/pgsql
accepts:
- ManagedEngine
- ManagedService
major: 0
minor: 0
release_level: beta
patch: 0
service_container: psql
service_handle_field: database_name
persistent: true
attach_post_build: true
target_environment_variables:
  database_host:
    variable_name: database_host
    environment_variable_name: dbhost
  database_name:
    variable_name: database_name
    environment_variable_name: dbname
  dbpassword:
    variable_name: dbpassword
    environment_variable_name: dbpasswd
  dbusername:
    variable_name: dbusername
    environment_variable_name: dbuser
consumer_params:
  database_name:
    name: database_name
    value: _Engines_Builder(engine_name)
    mandatory: true
    immutable: true
    input:
      label: Database name
      type: string
  'database_host ':
    name: 'database_host '
    value: _Engines_System(pgsql_host)
    mandatory: true
    input:
      label: Database host
      type: string
  dbusername:
    name: dbusername
    value: _Engines_Builder(engine_name)
    mandatory: true
    immutable: true
    input:
      label: DB User Name
      type: string
  dbpassword:
    name: dbpassword
    value: _Engines_System(random(10))
    mandatory: true
    input:
      label: DB Password
      type: password_with_confirmation
  collation:
    name: collation
    value: C
    mandatory: true
    immutable: true
    input:
      label: DB Collation
      type: string
  encoding:
    name: encoding
    value: ascii
    mandatory: true
    immutable: true
    input:
      type: select
      collection:
        items:
          ascii: ACSII
          utf8: UTF8
  full_access:
    name: full_access
    value: fals
    mandatory: true
    input:
      label: Full Database Server Access
      type: boolean
      comment: 'Access to all databases includes the ability to delete '
configurators:
  db_master_pass:
    name: db_master_pass
    label: PgSQL Master Password
    description: PgSQL Master Password for user rma
    enable_logging: true
    no_save: true
    variables:
    - name: db_master_pass
      mandatory: true
      input:
        label: Passwowd user rma
        type: password_with_confirmation
constants:
  backup_support:
    name: backup_support
    value: 'true'
  rails_flavor:
    name: rails_flavor
    value: postgres
  db_flavor:
    name: db_flavor
    value: pgsql
