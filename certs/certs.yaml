---
publisher_namespace: EnginesSystem
type_path: certs
title: Certificate Management
description: 
major: 0
minor: 0
release_level: rc
patch: 0
service_container: certs
service_handle_field: cert_name
dedicated: false
persistent: true
immutable: false
attach_post_build: true
attach_requires_restart: false
soft_service: false
shareable: false
consumer_exportable: false
consumerless: false
target_environment_variables: {}
accepts:
- ManagedEngine
- ManagedService
consumer_params:
  country:
    name: country
    value: 
    mandatory: true
    ask_at_build_time: true
    build_time_only: false
    immutable: true
    input:
      label: 
      type: country
      title: Country
      comment: 
      hint: '2 Character Country Code  '
      placeholder: XX
      collection:
        items: {}
        include_blank: false
      validation:
        pattern: "[a-zA-Z][a-zA-Z]"
        message: Two Letters Only
  state:
    name: state
    value: 
    mandatory: true
    ask_at_build_time: true
    build_time_only: false
    immutable: true
    input:
      label: State
      type: string
      title: 
      comment: 
      hint: 
      placeholder: 
      collection:
        items: {}
        include_blank: false
      validation:
        pattern: 
        message: 
  organisation:
    name: organisation
    value: 
    mandatory: true
    ask_at_build_time: true
    build_time_only: false
    immutable: true
    input:
      label: Organization
      type: string
      title: 
      comment: 
      hint: 
      placeholder: 
      collection:
        items: {}
        include_blank: false
      validation:
        pattern: 
        message: 
  person:
    name: person
    value: 
    mandatory: true
    ask_at_build_time: true
    build_time_only: false
    immutable: true
    input:
      label: person
      type: string
      title: Person
      comment: 
      hint: 
      placeholder: 
      collection:
        items: {}
        include_blank: false
      validation:
        pattern: 
        message: 
  cert_name:
    name: cert_name
    value: 
    mandatory: true
    ask_at_build_time: true
    build_time_only: false
    immutable: true
    input:
      label: cert_name
      type: string
      title: Certificate name
      comment: 
      hint: 
      placeholder: 
      collection:
        items: {}
        include_blank: false
      validation:
        pattern: 
        message: 
  domainname:
    name: domainname
    value: 
    mandatory: true
    ask_at_build_time: true
    build_time_only: false
    immutable: true
    input:
      label: domainname
      type: string
      title: Domain name
      comment: 
      hint: 
      placeholder: 
      collection:
        items: {}
        include_blank: false
      validation:
        pattern: 
        message: 
  hostname:
    name: hostname
    value: 
    mandatory: false
    ask_at_build_time: true
    build_time_only: false
    immutable: true
    input:
      label: hostname
      type: string
      title: Hostname
      comment: 
      hint: 
      placeholder: 
      collection:
        items: {}
        include_blank: false
      validation:
        pattern: 
        message: 
  alt_names:
    name: alt_names
    value: 
    mandatory: false
    ask_at_build_time: false
    build_time_only: false
    immutable: true
    input:
      label: alt_names
      type: string
      title: Alt names
      comment: 
      hint: space seperated list of hostnames
      placeholder: 
      collection:
        items: {}
        include_blank: false
      validation:
        pattern: 
        message: 
  install_target:
    name: install_target
    value: Install target
    mandatory: false
    ask_at_build_time: true
    build_time_only: false
    immutable: true
    input:
      label: 
      type: string
      title: 
      comment: 
      hint: 
      placeholder: 
      collection:
        items: {}
        include_blank: false
      validation:
        pattern: 
        message: 
configurators:
  system_ca:
    name: system_ca
    label: Root Certificate Authority
    description: 
    enable_logging: false
    no_save: true
    set_script_sudo:
      language: 
      content: 
    read_script_sudo:
      language: 
      content: 
    variables:
    - name: cert_name
      value: 
      mandatory: true
      input:
        label: cert_name
        type: string
        title: 'cert name name  '
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: domainname
      value: 
      mandatory: false
      input:
        label: domainname
        type: string
        title: Domain name
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: person
      value: 
      mandatory: false
      input:
        label: person
        type: string
        title: Person
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: organisation
      value: 
      mandatory: true
      input:
        label: organisation
        type: string
        title: Organization
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: city
      value: 
      mandatory: true
      input:
        label: city
        type: string
        title: City
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: state
      value: 
      mandatory: true
      input:
        label: state
        type: string
        title: State
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: country
      value: 
      mandatory: false
      input:
        label: country
        type: string
        title: Country 2 letter code
        comment: 
        hint: 
        placeholder: xx
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: "[a-zA-Z][a-zA-Z]"
          message: 2 letter code only
service_actionators:
  fetch_cert:
    name: fetch_cert
    label: Retrieve certificate
    description: 
    return_type: file
    return_file_name: Engines_Builder(action_val(fetch_cert,cert_name)).pem
    enable_logging: false
    script_sudo:
      language: 
      content: 
    variables:
    - name: cert_name
      value: 
      mandatory: true
      input:
        label: Certificate name
        type: string
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: store
      value: 
      mandatory: true
      input:
        label: Store
        type: string
        title: 
        comment: 
        hint: 'imported|container type/name '
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
  import_cert:
    name: import_cert
    label: Import certificate
    description: 
    return_type: none
    return_file_name: 
    enable_logging: false
    script_sudo:
      language: 
      content: 
    variables:
    - name: certificate
      value: 
      mandatory: true
      input:
        label: 
        type: text
        title: Certificate
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: private_key
      value: 
      mandatory: true
      input:
        label: 
        type: text
        title: Private key
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: Password
      value: 
      mandatory: false
      input:
        label: 
        type: password
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: cert_type
      value: import
      mandatory: false
      input:
        label: 
        type: boolean
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: install_target
      value: 
      mandatory: false
      input:
        label: 
        type: string
        title: Target service
        comment: 
        hint: blank|service name|default
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
  list_certs:
    name: list_certs
    label: List certificates
    description: 
    return_type: json
    return_file_name: 
    enable_logging: false
    script_sudo:
      language: 
      content: 
    variables: []
  remove_cert:
    name: remove_cert
    label: Remove Certificate
    description: 
    return_type: none
    return_file_name: 
    enable_logging: false
    script_sudo:
      language: 
      content: 
    variables:
    - name: cert_name
      value: 
      mandatory: true
      input:
        label: Certificate name
        type: string
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: store
      value: 
      mandatory: true
      input:
        label: Store
        type: string
        title: 
        comment: 
        hint: imported|container_type/name
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
  system_ca:
    name: system_ca
    label: System CA
    description: 
    return_type: file
    return_file_name: enginesCA.crt
    enable_logging: false
    script_sudo:
      language: 
      content: 
    variables: []
  set_default:
    name: set_default
    label: Set Default
    description: 
    return_type: plain_text
    return_file_name: 
    enable_logging: true
    script_sudo:
      language: 
      content: 
    variables:
    - name: install_target
      value: default
      mandatory: true
      input:
        label: Target
        type: string
        title: 
        comment: 
        hint: default|service
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: cert_name
      value: 
      mandatory: true
      input:
        label: Certificate name
        type: string
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: store
      value: 
      mandatory: true
      input:
        label: Store
        type: string
        title: 
        comment: 
        hint: 'imported| ctype/cname/  '
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
  list_services_defaults:
    name: list_services_defaults
    label: List services default certificates
    description: 
    return_type: json
    return_file_name: 
    enable_logging: false
    script_sudo:
      language: 
      content: 
    variables: []
  create_certificate:
    name: create_certificate
    label: Create certificate
    description: 
    return_type: json
    return_file_name: 
    enable_logging: false
    script_sudo:
      language: 
      content: 
    variables:
    - name: country
      value: 
      mandatory: true
      input:
        label: Country 2 letter code
        type: country
        title: 
        comment: 
        hint: XX
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: "[a-zA-Z][a-zA-Z]"
          message: Two letters only
    - name: State
      value: 
      mandatory: false
      input:
        label: State
        type: string
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: organisation
      value: 
      mandatory: false
      input:
        label: Organization
        type: string
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: city
      value: 
      mandatory: false
      input:
        label: City
        type: string
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: cert_name
      value: 
      mandatory: false
      input:
        label: 
        type: string
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: domainname
      value: 
      mandatory: true
      input:
        label: 
        type: string
        title: Domain name
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: hostname
      value: 
      mandatory: true
      input:
        label: 
        type: string
        title: Hostname
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: alt_names
      value: 
      mandatory: false
      input:
        label: Alternative names
        type: string
        title: 
        comment: 
        hint: 'List of space seperated names   '
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: person
      value: 
      mandatory: false
      input:
        label: Person
        type: string
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: cert_type
      value: generated
      mandatory: false
      input:
        label: 
        type: hidden
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: wild
      value: 'false'
      mandatory: false
      input:
        label: Wild card
        type: checkbox_boolean
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
  add_cert_to_wap:
    name: add_cert_to_wap
    label: Add certificate to Wap
    description: 
    return_type: json
    return_file_name: 
    enable_logging: true
    script_sudo:
      language: 
      content: 
    variables:
    - name: store
      value: 
      mandatory: true
      input:
        label: Store
        type: string
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: cert_name
      value: 
      mandatory: true
      input:
        label: Certificate name
        type: string
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: fqdn
      value: 
      mandatory: true
      input:
        label: domain name or FQDN to apply Certificate to
        type: string
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
  fetch_key:
    name: fetch_key
    label: Retrieve private key
    description: 
    return_type: file
    return_file_name: privatekey.pem
    enable_logging: true
    script_sudo:
      language: 
      content: 
    variables:
    - name: key_name
      value: 
      mandatory: true
      input:
        label: 
        type: string
        title: Key name
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
    - name: store
      value: 
      mandatory: true
      input:
        label: 
        type: string
        title: Store
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
  rm_cert_from_wap:
    name: rm_cert_from_wap
    label: Remove certificate from wap
    description: 
    return_type: json
    return_file_name: 
    enable_logging: true
    script_sudo:
      language: 
      content: 
    variables:
    - name: fqdn
      value: 
      mandatory: true
      input:
        label: fqdn or domain
        type: string
        title: 
        comment: 
        hint: 
        placeholder: 
        collection:
          items: {}
          include_blank: false
        validation:
          pattern: 
          message: 
constants:
  backup_support:
    name: backup_support
    value: 'true'
service_dependencies: []
guises: []
build_dependencies:
- engines/servicebase
